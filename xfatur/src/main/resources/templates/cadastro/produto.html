<!DOCTYPE html>
<html layout:decorate="~{/cadastro/cadastro}" xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8" />

</head>
<body>

	<form method="POST" th:object="${produtoDTO}" th:action="${produtoDTO.id == null} ? @{/produto/salvar} : @{/produto/alterar}" layout:fragment="principal">
		<div th:replace="~{/cadastro/fragments.html :: header}"></div>
		<div th:replace="cadastro/fragments :: alert-success"></div>
		<div class="cadastro produto">
			<input type="hidden" th:field="*{id}">
			
			<div class="form-row">
				<div class="form-row-columns">
					<div>
						<label class="produto-label-left form-label form-label-sm" for="produto-codigoProduto">Código Produto</label> 
						<input id="produto-codigoProduto" class="form-control form-control-sm" type="text" maxlength="10" th:field="*{codigoProduto}" th:classappend="${#fields.hasErrors('codigoProduto')} ? 'is-invalid' : ''">
						<div th:replace="~{cadastro/fragments.html :: erro('codigoProduto')}"></div>
					</div>
	
					<div>
						<label class="label-codigoDeBarras form-label form-label-sm" for="produto-codigoDeBarras">Código de Barras</label>
						<input id="produto-codigoDeBarras" class="form-control form-control-sm" type="text" maxlength="14" th:field="*{codigoDeBarras}" th:classappend="${#fields.hasErrors('codigoDeBarras')} ? 'is-invalid' : ''">
						
					</div>
				</div>								
			</div>
			
			<div class="form-row">
				<label class="produto-label-left form-label form-label-sm" for="produto-descricao">Descrição</label>
				<input id="produto-descricao" class="input-descricao form-control form-control-sm" type="text" maxlength="80" th:field="*{descricao}" th:classappend="${#fields.hasErrors('descricao')} ? 'is-invalid' : ''">
				<div th:replace="~{cadastro/fragments.html :: erro('descricao')}"></div>
			</div>
			
			<div class="form-row">
				<label class="produto-label-left form-label form-label-sm" for="produto-pais">País</label> 
				<select id="produto-pais" class="form-select form-select-sm" th:field="*{pais}">
					<option th:each="p : ${paises}" th:value="${p.id}" th:text="${p.nome}"></option>
				</select>
			</div>

			<div class="form-row">
				<label class="produto-label-left form-label form-label-sm" for="produto-produtor">Produtor</label> 
				<select id="produto-produtor" class="form-select form-select-sm" th:field="*{produtor}">
					<option th:each="p : ${produtores}" th:value="${p.id}" th:text="${p.descricao}"></option>
				</select>
			</div>
			
			
			
			<div th:replace="~{/cadastro/fragments.html :: botoes(${produtoDTO.id == null} ? 'Gravar' : 'Alterar')}"></div>
		</div>
	</form>
</body>
</html>
